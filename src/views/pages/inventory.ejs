<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inventory</title>
    <link rel="stylesheet" href="/output.css" />
  </head>
  <body class="bg-[var(--base-white)] text-[var(--base-black)]">
    <%- include('../partials/header') %>

    <main class="container flex flex-col gap-8 mx-auto px-15 my-16">
      <h1 class="font-extrabold text-4xl max-w-lg leading-[1.3]">Inventory</h1>

      <div class="flex gap-12">
        <!-- Filter by Category -->
        <div class="flex gap-2 items-center">
          <label for="filter" class="font-bold text-lg">Category:</label>
          <div class="relative">
            <select
              id="filter"
              name="filter"
              class="h-12 w-[172px] appearance-none rounded-sm shadow-md border border-gray-300 px-4 focus:ring-2 bg-white text-[var(--base-black)]"
              required
            >
              <option value="" disabled selected>Select Category</option>
              <option value="">All</option>
              <option value="Meat">Meat</option>
              <option value="Vegetable">Vegetable</option>
              <option value="Dairy">Dairy</option>
              <option value="Beverage">Beverage</option>
              <option value="Snack">Snack</option>
            </select>

            <!-- Chevron icon -->
            <div
              class="pointer-events-none absolute inset-y-0 right-3 flex items-center"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>

        <!-- Sort by Status -->
        <div class="flex gap-2 items-center">
          <label for="sort" class="font-bold text-lg">Status:</label>
          <div class="relative">
            <select
              id="sort"
              name="sort"
              class="h-12 w-[172px] appearance-none rounded-sm shadow-md border border-gray-300 px-4 focus:ring-2 bg-white text-[var(--base-black)]"
              required
            >
              <option value="" disabled selected>Select Status</option>
              <option value="in stock">In Stock</option>
              <option value="low stock">Low Stock</option>
              <option value="expired">Expired</option>
              <option value="out of stock">Out of Stock</option>
            </select>

            <!-- Chevron icon -->
            <div
              class="pointer-events-none absolute inset-y-0 right-3 flex items-center"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>

        <!-- sort by -->
        <div class="flex gap-2 items-center">
          <label for="sort" class="font-bold text-lg">Sort by:</label>
          <div class="relative">
            <select
              id="sort"
              name="sort"
              class="h-12 w-[172px] appearance-none rounded-sm shadow-md border border-gray-300 px-4 focus:ring-2 bg-white text-[var(--base-black)]"
              required
            >
              <option value="" disabled selected>Select Sort by</option>
              <option value="-createdAt">Newest</option>
              <option value="createdAt">Oldest</option>
              <option value="itemName">Name A-Z</option>
              <option value="-itemName">Name Z-A</option>
              <option value="quantity">Quantity ↑</option>
              <option value="-quantity">Quantity ↓</option>
              <option value="expirationDate">Expiry Soonest</option>
              <option value="-expirationDate">Expiry Latest</option>
            </select>

            <!-- Chevron icon -->
            <div
              class="pointer-events-none absolute inset-y-0 right-3 flex items-center"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>

      <!-- Inventory Grid -->
      <div class="grid grid-cols-4 gap-4">
        <% items.forEach(activity => { %>
        <div
          class="flex flex-col justify-between gap-4 border py-5 px-4 rounded-lg shadow-md"
        >
          <div>
            <h1 class="font-bold text-2xl"><%= activity.itemName %></h1>
            <p class="text-sm"><%= activity.category %></p>
            <p><%= activity.quantity %> <%= activity.unit %></p>
          </div>
          <div>
            <p>Exp Date: <%= activity.formattedTime %></p>
          </div>
          <div class="flex gap-4">
            <button class="bg-[var(--primary-clr)] px-8 py-1.5 rounded-sm">
              Edit
            </button>
            <button class="px-8 py-1.5 rounded-sm">Delete</button>
          </div>
        </div>
        <% }); %>
      </div>
    </main>
  </body>
</html>
